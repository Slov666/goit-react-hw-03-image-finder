{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/articleApi.js","components/App/App.js","index.js"],"names":["Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubimt","this","className","onSubmit","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","setLargeImageUrl","onClick","nodeName","dataset","ImageGalleryItem","dataImages","map","image","key","id","src","webformatURL","alt","category","data-large","largeImageURL","Button","App","color","height","width","React","Modal","handleKeyDown","code","onClose","window","addEventListener","removeEventListener","largeImageUrl","KEY","searcgQuery","page","axios","get","then","response","data","hits","searchQuery","error","loading","showModal","url","large","prevState","handlerFetch","a","articleAPI","handlerSearchbar","toggleModal","prevProps","scrollTo","top","innerHeight","behavior","console","log","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29cfea61.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    inputValue: '',\r\n  };\r\n  handleChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubimt(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n  render() {\r\n    const { inputValue } = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            value={inputValue}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nSearchbar.propTypes = {\r\n  onSubimt: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGallery({ children, setLargeImageUrl }) {\r\n  return (\r\n    <ul\r\n      className=\"ImageGallery\"\r\n      onClick={e => {\r\n        if (e.target.nodeName !== 'IMG') {\r\n          return;\r\n        }\r\n        setLargeImageUrl(e.target.dataset);\r\n      }}\r\n    >\r\n      {children}\r\n    </ul>\r\n  );\r\n}\r\nImageGallery.propTypes = {\r\n  children: PropTypes.node,\r\n  setLargeImageUrl: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nexport default function ImageGalleryItem({ dataImages }) {\r\n  return (\r\n    <>\r\n      {dataImages.map(image => (\r\n        <li key={image.id} className=\"ImageGalleryItem\">\r\n          <img\r\n            src={image.webformatURL}\r\n            alt={image.category}\r\n            data-large={image.largeImageURL}\r\n            className=\"ImageGalleryItem-image\"\r\n          />\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  dataImages: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <div className=\"box-Button\">\r\n      <button type=\"button\" className=\"Button\" onClick={onClick}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"box-loader\">\r\n        <Loader type=\"TailSpin\" color=\"#00BFFF\" height={300} width={300} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\">\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largeImageUrl} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nModal.propTypes = {\r\n  largeImageUrl: PropTypes.string,\r\n};\r\n","import axios from 'axios';\r\nconst KEY = '17911503-2ed926ce3a8ce366c6cd807d9';\r\n\r\nconst fetchArticlesWithQuery = (searcgQuery, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searcgQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\nexport default {\r\n  fetchArticlesWithQuery,\r\n};\r\n","import React, { Component } from 'react';\r\n\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\nimport Loader from '../Loader/Loader';\r\nimport Modal from '../Modal/Modal';\r\n\r\nimport articleAPI from '../../services/articleApi';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n    dataImages: [],\r\n    page: 1,\r\n    error: null,\r\n    loading: false,\r\n    largeImageUrl: null,\r\n    showModal: true,\r\n  };\r\n  setLargeImageUrl = url => {\r\n    this.setState({ largeImageUrl: url.large });\r\n    this.setState(prevState => ({ showModal: !prevState.showModal }));\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevPage = prevState.page;\r\n    const curentpage = this.state.page;\r\n    if (prevPage !== curentpage) {\r\n      window.scrollTo({\r\n        top: window.innerHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.handlerFetch();\r\n    }\r\n  }\r\n\r\n  handlerFetch = async () => {\r\n    const { searchQuery, page } = this.state;\r\n    try {\r\n      this.setState({ loading: true });\r\n      await articleAPI\r\n        .fetchArticlesWithQuery(searchQuery, page)\r\n        .then(dataImages => {\r\n          this.setState(prevState => ({\r\n            dataImages: [...prevState.dataImages, ...dataImages],\r\n            page: prevState.page + 1,\r\n          }));\r\n        });\r\n    } catch (error) {\r\n      this.setState({ error });\r\n    } finally {\r\n      this.setState({ loading: false });\r\n    }\r\n  };\r\n\r\n  // handlerFetch = () => {\r\n  //   const { searchQuery, page } = this.state;\r\n  //   this.setState({ loading: true });\r\n  //   articleAPI\r\n  //     .fetchArticlesWithQuery(searchQuery, page)\r\n  //     .then(dataImages => {\r\n  //       this.setState(prevState => ({\r\n  //         dataImages: [...prevState.dataImages, ...dataImages],\r\n  //         page: prevState.page + 1,\r\n  //       }));\r\n  //       window.scrollTo({\r\n  //         top: document.documentElement.scrollHeight,\r\n  //         behavior: 'smooth',\r\n  //       });\r\n  //     })\r\n  //     .catch(error => this.setState({ error }))\r\n  //     .finally(() => this.setState({ loading: false }));\r\n  // };\r\n  handlerSearchbar = inputValue => {\r\n    this.setState({ searchQuery: inputValue });\r\n    this.setState({ dataImages: [] });\r\n    this.setState({ page: 1 });\r\n  };\r\n  toggleModal = () => {\r\n    this.setState(prevState => ({ showModal: !prevState.showModal }));\r\n  };\r\n\r\n  render() {\r\n    const { dataImages, loading, largeImageUrl, showModal, error } = this.state;\r\n    console.log(error);\r\n\r\n    return (\r\n      <section className=\"App\">\r\n        <Searchbar onSubimt={this.handlerSearchbar} />\r\n        {loading && <Loader />}\r\n        {dataImages.length > 0 && (\r\n          <ImageGallery setLargeImageUrl={this.setLargeImageUrl}>\r\n            <ImageGalleryItem dataImages={dataImages} />\r\n          </ImageGallery>\r\n        )}\r\n        {dataImages.length > 0 && <Button onClick={this.handlerFetch} />}\r\n        {largeImageUrl && !showModal && (\r\n          <Modal\r\n            onClose={this.toggleModal}\r\n            largeImageUrl={largeImageUrl}\r\n          ></Modal>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App'\nimport './base.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}